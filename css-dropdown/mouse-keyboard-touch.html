<!DOCTYPE html>
<html>
<head>
<title>CSS dropdown with JS keyboard and touch support</title>
<meta name="viewport" content="width=400px">
<style>
html,body {
	background: #eee;
	color: #333;
	font: 1em/1 Arial, sans; max-width: 45em;
}

h1 {
	font-size: 1.2em;
}

a:focus { outline: 3px blue solid; }

ul, ul.menu, ul.menu li {
	list-style: none;
	padding: 0;
	margin: 0;
}

ul.menu li { display: block; float: left; 	background: red;
	border: 1px black solid; }

ul.menu ul.submenu li { background: orange; }

ul.menu li ul.submenu li { float: none; }

ul.menu li a {
	display: block;
	padding: 1em;
	margin: 0;
	color: white;
	text-decoration: none;
}
ul.menu ul.submenu { display: none; }
ul.menu li:hover ul.submenu,
ul.menu li:focus ul.submenu {
	display: block;
}
ul.menu li.focus ul.submenu {
	display: block;
}
</style>
<script>
window.addEventListener('load',function() {
	var menu_triggers = document.querySelectorAll('ul.menu > li > a');
	for (var i = 0; i<menu_triggers.length; i++) {
		menu_triggers[i].addEventListener('focus',function(e) {
			for (var j = 0; j<menu_triggers.length; j++) {
				menu_triggers[j].parentNode.classList.remove('focus');
			}
			this.parentNode.classList.add('focus');
		},false);
		menu_triggers[i].addEventListener('touchend',function(e) {
			if (!this.parentNode.classList.contains('focus')) {
				e.preventDefault();
				console.log(e.target);
				e.target.focus();
			}
		},false);
	}
},false);
</script>
</head>
<body>
<h1>CSS dropdown with JS keyboard and touch support</h1>
<ul class="menu">
	<li><a href="about:blank">Menu 1</a>
		<ul class="submenu">
			<li><a href="about:blank">Item 1.1</a></li>
			<li><a href="about:blank">Item 1.2</a></li>
			<li><a href="about:blank">Item 1.3</a></li>
		</ul>
	</li>
	<li><a href="about:blank">Menu 2</a>
		<ul class="submenu">
			<li><a href="about:blank">Item 2.1</a></li>
			<li><a href="about:blank">Item 2.2</a></li>
			<li><a href="about:blank">Item 2.3</a></li>
		</ul>
	</li>
	<li><a href="about:blank">Menu 3</a>
		<ul class="submenu">
			<li><a href="about:blank">Item 3.1</a></li>
			<li><a href="about:blank">Item 3.2</a></li>
			<li><a href="about:blank">Item 3.3</a></li>
		</ul>
	</li>
</ul>
</body>
</html>