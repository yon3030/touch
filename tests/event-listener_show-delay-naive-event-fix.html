<!DOCTYPE html>
<html><head><meta charset=utf-8>
<title>Event listener show delay</title>
<meta name="viewport" content="width=device-width">
<link rel="stylesheet" href="style.css">
<script>
window.addEventListener('load', function() {
	var b = document.getElementsByTagName('button')[0];
	var o = document.getElementsByTagName('output')[0],
	report = function(e) {
		o.innerHTML += 'event fired<br>';
	}
	
	/* and here we have it...the naive approach to handling touch */
	var clickEvent = ('ontouchstart' in window ? 'touchend' : 'click');
	b.addEventListener(clickEvent, report, false);

}, false);
</script>
</head><body>
<h1>Event listener</h1>
<p>Show the delay between a touch and <code>click</code> event. Includes the naive "if touch, then only listen to touch" fix that kills the button for mouse/keyboard users entirely.</p>
<button class="button">Test button!</button>
<output></output>
</body></html>