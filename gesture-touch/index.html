<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8 />
<title>Gesture (e.g. scroll, pinch-zoom) and touchmove/touchend</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
.colour-changer {
  height: 100px;
}
</style>
</head>
<body>
  <div class="colour-changer"></div>
  <div class="colour-changer"></div>
  <div class="colour-changer"></div>
  <div class="colour-changer"></div>
  <div class="colour-changer"></div>
  <div class="colour-changer"></div>
  <div class="colour-changer"></div>
  <div class="colour-changer"></div>
  <div class="colour-changer"></div>
  <div class="colour-changer"></div>
  <div class="colour-changer"></div>
<script>

/*
   Ported from http://jsbin.com/ebolif/3/edit - demonstration of Touch Events spec grey area (does touchmove fire during scroll / touchend fire at end of scroll?) as demonstrated in https://www.youtube.com/watch?v=h2djIdAFc5U#t=518
*/

function toArray(arr) {
  return Array.prototype.slice.call(arr);
}
 
toArray(document.querySelectorAll('.colour-changer')).forEach(function(div, i, arr) {
  var hue = (i / arr.length) * 360;
  var lightness = 50;
  div.style.background = 'hsl(' + hue + ', 100%, 50%)';
  
  div.addEventListener('touchmove', function(event) {
    lightness = (lightness + 49) % 100;
    console.log(lightness)
    div.style.background = 'hsl(' + hue + ', 0%, ' + lightness + '%)';
  });

  div.addEventListener('touchend', function(event) {
    hue = (hue + 180) % 360;
    lightness = 50;
    div.style.background = 'hsl(' + hue + ', 100%, 50%)';
  });

});
</script>
</body>
</html>